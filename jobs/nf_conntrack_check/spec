---
name: nf_conntrack_check

description: "Check the cf conntrack count and alert in case it goes over ratio * max"

templates:
  ctl.erb: bin/ctl
  nf_conntrack_check.erb: bin/nf_conntrack_check
  nf_conntrack_check.cron.erb: config/nf_conntrack_check.cron

packages:
  - golang
  - raidman

properties:
  cron.schedule:
    description: "Schedule for the job (in cron format)"
    default: "* * * * *"
  riemann.host:
    description: "Riemann host use to sent alerts"
  riemann.suffix:
    description: "Suffix for the riemann host"
    default: operational-tools
  nf_check.ratio:
    description: "Ratio used for the alert."
    default: 0.9
